---
title: "Progress Memo 1"
subtitle: |
  | Final Project 
  | Data Science 2 with R (STAT 301-2)
author: "Donny Tou"
date: today

format:
  html:
    toc: true
    embed-resources: true
    
execute:
  warning: false

from: markdown+emoji 
reference-location: margin
citation-location: margin
---

::: {.callout-tip icon=false}

## Github Repo Link

[Donny's Final Project Repo](https://github.com/stat301-2-2024-winter/final-project-2-donnytou.git)

:::

## Prediction Problem

Describe your prediction research question/objective and identify the type of prediction problem it is. This includes identifying a variable and clearly stating if it is a classification or regression problem. Provide a motivation for pursuing this particular problem: Why would having a prediction model be useful for this problem? Why is it interesting to you? Is this part of a larger research project? Just thought it would be fun? etc.

## Data Source

Identify and describe your data source or sources -- citations would be appropriate. Citations must include links to the data source(s).

Blah blah blah^[[City of Chicago Traffic Crashes](https://data.cityofchicago.org/Transportation/Traffic-Crashes-Crashes/85ca-t3if/about_data)]

## Data Quality Check

You should demonstrate that you can read in your dataset(s) --- since we need proof of this, showing code is permitted or show code for the next steps. Quality check means providing answers to the following: How many variables and observations do you have? How many categorical vs numerical variables? Are there any missingness issues?
```{r}
#| echo: false
# loading packages
library(tidyverse) 
library(naniar)
library(knitr)
```

```{r}
# rewiring markdown working directory
setwd("/Users/donnytou/Desktop/stat301-2/final-project-2-donnytou")

# loading dataset
traffic_data <- read_csv("data/Traffic_Crashes_-_Crashes_20240203.csv") |>
  janitor::clean_names() |>
  rename(
    roadway_surface_condition = roadway_surface_cond
  ) |>
  mutate(
    across(
      c(
        ends_with("i"),
        ends_with("cause"),
        ends_with("type"),
        ends_with("condition"),
        traffic_control_device,
        most_severe_injury,
        work_zone_type,
        street_direction,
        alignment,
        damage,
        road_defect
      ),
      factor
    ),
    fatal_i = if_else(
      injuries_fatal > 0,
      TRUE,
      if_else(
        injuries_fatal == 0,
        FALSE,
        NA
      )
    )
  ) |>
  relocate(fatal_i)
```


## Target Variable Analysis

A univariate analysis of the target variable. Identify and discuss potential issues (symmetry/unbalanced/skewness & missingness) and discuss potential solutions such as transformations.

```{r}
#| echo: false
traffic_data |>
  ggplot(aes(injuries_total)) +
  geom_bar() +
  theme_classic() +
  labs(
    title = "Distribution of the number of traffic incident injuries",
    subtitle = "The vast majority of traffic collisions leave involved agents unscathed"
  ) +
  scale_x_continuous(breaks = c(0:20))
traffic_data |>
  select(injuries_total) |>
  miss_var_summary() |>
  kable()
```


## Misc

Students are encouraged to add any other information that they think would be useful to communicate about their data and their plan. Articulating a time line would be a good idea since fitting/training the models may take more time than expected (leave adequate time to train models and then analyze). 


